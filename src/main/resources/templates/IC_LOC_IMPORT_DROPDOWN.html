<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description"
         content="Responsive sidebar template with sliding effect and dropdown menu based on bootstrap 3">
      <title>iConverge</title>
      <!-- using online links -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
         integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
         integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
      <link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">
      <!-- CSS only -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
         integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
      <!-- CSS only -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
         integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
      <!-- using local links -->
      <link rel="stylesheet" href="../css/main.css">
      <link rel="stylesheet" href="../css/sidebar-themes.css">
      <link rel="stylesheet" href="../css/form-style.css">
      <!-- datatable link  -->
      <link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet" />
   </head>
   <body>
      <div class="page-wrapper default-theme  bg1 toggled">
         <span th:remove="tag" th:utext="${dataHtml}"></span>
         <!-- page-content  -->
         <main class="page-content">
         <div id="overlay" class="overlay"></div>
         <div class="container-fluid" style="padding: 0px;">
            <div class="title-bar"
               style="height: 90px; background-image: url(../img/bn.jpeg) !important;background-repeat: no-repeat;width: 100%;height: 100%;background-size: cover;">
               <a id="toggle-sidebar" class="btn btn-secondary rounded-0" href="#"
                  style="margin: 20px; background: #3ab54a;">
                  <span>
                     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-list" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                           d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                     </svg>
                  </span>
               </a>
            </div>
            <div class="container pt-5 pb-5">
               <div class="card-container-holder">
                  <div class="row">
                     <div class="col-lg-1 col-md-1 col-sm-0"></div>
                     <div class="col-lg-10 col-md-10 col-sm-12">
                        <div class="card-5">
                           <div class="card-heading">
                              <h2 class="text-center">Location Import</h2>
                           </div>
                           <div class="card-body">
                              <form   th:action="@{/IC_LOC_IMPORT_DROPDOWN}" method="post" th:object="${dropdown_model}">
                                 <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                       <div class="row">
                                          <div class="col-lg-3 col-md-3 col-sm-12">
                                             <label for="text" class="text-center m-2" >Bill Cycle Code:</label>
                                          </div>
                                          <div class="col-lg-9 col-md-9 col-sm-12">
                                             <select required="required" id="PERIOD_CODE" class="form-control" name="PERIOD_CODE">
                                                <option value="">-----Select Bill Cycle Code-----</option>
                                                <option th:each="a : ${listIC_PERIOD_MST_Dropdown}"
                                                   th:value="${a.PERIOD_CODE}"
                                                   th:text="${a.PERIOD_DESC}"></option>
                                             </select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                       <div class="row">
                                          <div class="col-lg-3 col-md-3 col-sm-12">
                                             <label for="text" class="text-center m-2" >Zone Code:</label>
                                          </div>
                                          <div class="col-lg-9 col-md-9 col-sm-12">
                                             <select required="required" id="ZONE_CODE" class="form-control" name="ZONE_CODE">
                                                <option value="">-----Select Zone Code-----</option>
                                                <option th:each="b : ${listIC_ZONE_MST_Dropdown}"
                                                   th:value="${b.ZONE_CODE}"
                                                   th:text="${b.ZONE_DESC}"></option>
                                             </select>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                       <div class="row">
                                          <div class="col-lg-3 col-md-3 col-sm-12">
                                             <label for="text" class="text-center m-2" >Circle Code:</label>
                                          </div>
                                          <div class="col-lg-9 col-md-9 col-sm-12">
                                             <select required="required" id="CIRCLE_CODE" class="form-control" name="CIRCLE_CODE">
                                                <option value="">-----Select Circle Code-----</option><!-- from api controller -->
                                                <option th:each="c : ${listIC_CIRCLE_MST_Dropdown}"
                                                   th:value="${c.CIRCLE_CODE}"
                                                   th:text="${c.CIRCLE_DESC}"></option>
                                             </select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                       <div class="row">
                                          <div class="col-lg-12 col-md-12 col-sm-12">
                                             <!-- <a  class="btn btn-success m-3" th:href=" '/IC_LOC_IMPORT/'+${PERIOD_CODE}   ">
                                             Next
                                             </a>  -->
                                             <input type="submit" class="btn btn-success m-3" value="Next">
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </form>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- page-wrapper -->
      <!-- using online scripts -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
         integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
         integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
      <script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
      <!-- using local scripts -->
      <script src="../js/main.js"></script>
      <!-- 		circle dropdown starts  -->
      <script>
         $(document).ready(function(){
         	$("#ZONE_CODE").change(function(){
         		
         		$("#CIRCLE_CODE").empty();
         		
         		var x = $("#ZONE_CODE").val();
         		
         		if(x == ""){
         			$("#CIRCLE_CODE").empty();
         			$("<option>").val("").text("-----Select Circle Code-----").appendTo(circleDropdown);
         		}
         		else{
         		
         			var urlString = "/api/circlesql/"+x;
         			console.log(urlString);
         			
         			$.ajax({
         				method: "GET",
         				url : urlString
         			})
         			.done(function(responseJson){
         				
         				circleDropdown = $("#CIRCLE_CODE");
         				
         				$("<option>").val("").text("-----Select Circle Code-----").appendTo(circleDropdown);
         				$.each(responseJson, function(index, circle){
         					
         					$("<option>").val(circle.circle_CODE).text(circle.circle_DESC).appendTo(circleDropdown);
         				});
         			})
         			.fail(function(){
         				alert("Connection Error");
         			})
         		}
         		
         		
         	})
         })
      </script>
      <!-- 		circle dropdown ends  -->
   </body>
</html>